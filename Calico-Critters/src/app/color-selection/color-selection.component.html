<h2>Color Selection Page</h2>


<section>
  <h3>Add a New Color</h3>
  <label>
    Name:
    <input [(ngModel)]="newColor.name">
  </label>
  <label>
    Hex:
    <input [(ngModel)]="newColor.hex">
  </label>
  <button (click)="addNewColor()">Add Color</button>
  <p *ngIf="addError" style="color: red;">{{ addError }}</p>
</section>

<hr>

<section>
  <h3>Edit an Existing Color</h3>
  <label>
    Choose color:
    <select [(ngModel)]="selectedEditColor" (change)="startEdit(selectedEditColor)">
      <option [ngValue]="null" disabled selected>Select color</option>
      <option *ngFor="let color of colors" [ngValue]="color">{{ color.viewValue }}</option>
    </select>
  </label>

  <div *ngIf="selectedEditColor">
    <label>
      New Name:
      <input [(ngModel)]="editColor.name">
    </label>
    <label>
      New Hex:
      <input [(ngModel)]="editColor.hex">
    </label>
    <button (click)="editSelectedColor()">Save Changes</button>
    <p *ngIf="editError" style="color: red;">{{ editError }}</p>
  </div>
</section>

<hr>

<section>
  <h3>Delete a Color</h3>
  <label>
    Choose color:
    <select [(ngModel)]="selectedDeleteColor">
      <option [ngValue]="null" disabled selected>Select color</option>
      <option *ngFor="let color of colors" [ngValue]="color">{{ color.viewValue }}</option>
    </select>
  </label>
  <button (click)="requestDeleteColor(selectedDeleteColor)">Delete Color</button>
  <p *ngIf="deleteError" style="color: red;">{{ deleteError }}</p>

  <div *ngIf="confirmingDelete">
    <p>Are you sure you want to delete "{{ selectedDeleteColor?.viewValue }}"?</p>
    <button (click)="confirmDeleteColor()">Yes, Delete</button>
    <button (click)="cancelDelete()">Cancel</button>
  </div>
</section>

<hr>

<section>
  <h3>Current Colors</h3>
  <ul>
    <li *ngFor="let color of colors">
    <!-- we will figure out how to do this part via the database ?? {{ colors.viewValue}} -->
  </li>
  </ul>
</section>
